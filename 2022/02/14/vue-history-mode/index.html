<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue 히스토리모드 새로고침 오류 | ellapresso</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/assets/img/cat.png">
    <script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4301280535384303" crossorigin="anonymous"></script>
    <link rel="alternate" type="application/rss+xml" href="https://github.com/wowthemesnet/vuepress-theme-mediumish/rss.xml" title="ellapresso RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://github.com/wowthemesnet/vuepress-theme-mediumish/feed.atom" title="ellapresso Atom Feed">
    <link rel="alternate" type="application/json" href="https://github.com/wowthemesnet/vuepress-theme-mediumish/feed.json" title="ellapresso JSON Feed">
    <meta name="description" content="새로고침하게 해주세요">
    <meta name="google-site-verification" content="gQyOTLNCOiZpV2eNHtevgTZ-R94aphWIg0HbgskZkgg">
    <meta name="naver-site-verification" content="193f8ae341fe542f28e9ead7749281b82e008769">
    
    <link rel="preload" href="/assets/css/0.styles.71d6d410.css" as="style"><link rel="preload" href="/assets/js/app.c2362d3e.js" as="script"><link rel="preload" href="/assets/js/6.7d3ae277.js" as="script"><link rel="preload" href="/assets/js/3.e32e0198.js" as="script"><link rel="preload" href="/assets/js/54.cea82c37.js" as="script"><link rel="preload" href="/assets/js/7.f34cef52.js" as="script"><link rel="prefetch" href="/assets/js/10.66070165.js"><link rel="prefetch" href="/assets/js/11.f92e557e.js"><link rel="prefetch" href="/assets/js/12.c17c7e05.js"><link rel="prefetch" href="/assets/js/13.a1ba2ad3.js"><link rel="prefetch" href="/assets/js/14.0a6c161f.js"><link rel="prefetch" href="/assets/js/15.4cac8f54.js"><link rel="prefetch" href="/assets/js/16.53b6cfda.js"><link rel="prefetch" href="/assets/js/17.39d81129.js"><link rel="prefetch" href="/assets/js/18.b9b8fb12.js"><link rel="prefetch" href="/assets/js/19.b6c7f901.js"><link rel="prefetch" href="/assets/js/20.7b49eb1b.js"><link rel="prefetch" href="/assets/js/21.a566018a.js"><link rel="prefetch" href="/assets/js/22.34074a04.js"><link rel="prefetch" href="/assets/js/23.9cd47874.js"><link rel="prefetch" href="/assets/js/24.683a4514.js"><link rel="prefetch" href="/assets/js/25.00ea4d0b.js"><link rel="prefetch" href="/assets/js/26.939f4273.js"><link rel="prefetch" href="/assets/js/27.d08b2de6.js"><link rel="prefetch" href="/assets/js/28.55f5c7a4.js"><link rel="prefetch" href="/assets/js/29.ba3725c0.js"><link rel="prefetch" href="/assets/js/30.d06920d6.js"><link rel="prefetch" href="/assets/js/31.dda70058.js"><link rel="prefetch" href="/assets/js/32.c54400d9.js"><link rel="prefetch" href="/assets/js/33.d548d93d.js"><link rel="prefetch" href="/assets/js/34.9fee37fe.js"><link rel="prefetch" href="/assets/js/35.176f02ec.js"><link rel="prefetch" href="/assets/js/36.2b762fc5.js"><link rel="prefetch" href="/assets/js/37.248903b5.js"><link rel="prefetch" href="/assets/js/38.42a15078.js"><link rel="prefetch" href="/assets/js/39.7a1af6fb.js"><link rel="prefetch" href="/assets/js/4.ad3701e9.js"><link rel="prefetch" href="/assets/js/40.d383f8dc.js"><link rel="prefetch" href="/assets/js/41.5c49cc9e.js"><link rel="prefetch" href="/assets/js/42.aad19699.js"><link rel="prefetch" href="/assets/js/43.5bfa9104.js"><link rel="prefetch" href="/assets/js/44.f9ae5b3b.js"><link rel="prefetch" href="/assets/js/45.5095b80b.js"><link rel="prefetch" href="/assets/js/46.b4d300c2.js"><link rel="prefetch" href="/assets/js/47.a1e74059.js"><link rel="prefetch" href="/assets/js/48.7e1f50af.js"><link rel="prefetch" href="/assets/js/49.fd11e68c.js"><link rel="prefetch" href="/assets/js/5.6e0e759c.js"><link rel="prefetch" href="/assets/js/50.83b8797a.js"><link rel="prefetch" href="/assets/js/51.a0af61f3.js"><link rel="prefetch" href="/assets/js/52.6a4ac53a.js"><link rel="prefetch" href="/assets/js/53.b44f75ff.js"><link rel="prefetch" href="/assets/js/55.5858b91b.js"><link rel="prefetch" href="/assets/js/8.344289f9.js"><link rel="prefetch" href="/assets/js/9.15f276f4.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.652551d1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.71d6d410.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><nav class="navbar navbar-expand-md navbar-light bg-white fixed-top"><div class="container"><a href="/" class="navbar-brand"><img src="/assets/img/logo.png"> ellapresso
          </a> <button type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"><span class="navbar-toggler-icon"></span></button> <div id="navbarsExampleDefault" class="collapse navbar-collapse"><ul class="navbar-nav ml-auto"><li class="nav-item"><a href="/" class="nav-link">Develog</a></li><li class="nav-item"><a href="/blog/" class="nav-link">디-발자</a></li><li class="nav-item"><a href="/jandi/" class="nav-link">잔디정원사</a></li><li class="nav-item"><a href="/tag/" class="nav-link">Tags</a></li> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <a href="./rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></ul></div></div></nav></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="mobile-home-link navbar-brand"><img src="/assets/img/logo.png"> ellapresso </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/">Develog</a></li><li class="mobile-nav-item"><a href="/blog/">디-발자</a></li><li class="mobile-nav-item"><a href="/jandi/">잔디정원사</a></li><li class="mobile-nav-item"><a href="/tag/">Tags</a></li> <li class="mobile-nav-item"><a href="./rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></li></ul></div></div></div> <div class="container wrapmain"><div id="vuepress-theme-blog__post-layout" data-v-659bb3e8><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content" data-v-659bb3e8><div class="row justify-content-center" data-v-659bb3e8><div class="col-md-8" data-v-659bb3e8><header data-v-659bb3e8><span class="text-muted" data-v-659bb3e8><div class="post-meta" data-v-659bb3e8><!----> <div class="post-meta-date"><time pubdate itemprop="datePublished" datetime="2022-02-14T00:00:00.000Z">
Mon, Feb 14 2022
</time></div> <!----></div></span> <h1 itemprop="name headline" class="article-head mt-3" data-v-659bb3e8>
            Vue 히스토리모드 새로고침 오류
          </h1> <p class="lead" data-v-659bb3e8>새로고침하게 해주세요</p> <div data-v-659bb3e8><span><div class="d-flex align-items-center"><a class="profile-avatar"><img src="/assets/img/ella.jpeg" alt="ella" class="avatar-image"></a> <div><span>ella</span>  
        <a href="/2022/02/14/vue-history-mode/.html#" class="btn btn-sm btn-outline-dark">Link</a></div></div></span><span><div class="d-flex align-items-center"><a class="profile-avatar"><!----></a> <!----></div></span></div></header></div></div> <div class="row justify-content-center text-center mt-4 mb-40" data-v-659bb3e8><div class="col-md-9" data-v-659bb3e8><img src="https://cdn.pixabay.com/photo/2017/03/09/12/31/error-2129569_1280.jpg" class="featuredimg" data-v-659bb3e8></div></div> <div class="row justify-content-center" data-v-659bb3e8><div class="col-md-8" data-v-659bb3e8><div itemprop="articleBody" class="content__default" data-v-659bb3e8><p>(저는 express로 vue를 띄워 사용하고 있습니다. 왜인지는 모릅니다...ㅎ)</p> <p>뷰의 라우터에는 hash모드와 history모드가 있다.</p> <p>hash모드의 경우 url의 생김새가 <strong>localhost/#/login</strong>과 같은 형태라면</p> <p>history모드는 우리가 흔히 아는 url의 형태를 가지고 있다.</p> <p><em>그런데 SPA로 되어있는 우리의 뷰는 호락호락하게 우리에게 url을 주지 않더라...</em></p> <p>history모드로 생성 할 경우, 앱은 잘 동작하는데</p> <p>만약, 새로고침을 하게 되면 페이지를 찾지 못한다.</p> <p>이때 해결 해 줄 수 있는 방법으로 검색했을때는 다들 <strong>vue.config.js</strong>파일에서 <strong>devServer</strong>에 <strong>historyAipFallback:true</strong>를 넣어 주라고 하던데</p> <p>내가 원하는 답은 아니었다.</p> <p>두번째는 <strong>connect-history-api-fallback</strong>를 npm으로 설치 한 후 express로 앱을 띄울때 사용해주는것.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'connect-history-api-fallback'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">history</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">server started at port3000</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>바로 해결되어 버려서 잠시 현타온 사건.</p></div> <!----> <div class="tag-box" data-v-659bb3e8><span class="tag-box-txt" data-v-659bb3e8>tags</span> <div class="post-meta" data-v-659bb3e8><!----> <!----> <div itemprop="keywords" class="card-subheading post-meta-tags"><a href="/tag/develog" data-v-304a57ff> develog </a><a href="/tag/express" data-v-304a57ff> express </a><a href="/tag/vue.js" data-v-304a57ff> vue.js </a><a href="/tag/history" data-v-304a57ff> history </a><a href="/tag/새로고침" data-v-304a57ff> 새로고침 </a></div></div></div></div></div></article> <div class="row justify-content-center" data-v-659bb3e8><div class="col-md-9" data-v-659bb3e8><!----></div></div> <!----></div></div> <footer class="themefooter"><div class="container"><div class="row justify-content-between"><div class="col"><a href="/"><img src="/assets/img/logo.png" class="logofooter"></a></div> <div class="col text-right"><div class="list-unstyled"><span class="contact-item"><a href="https://github.com/ellapresso" target="_blank" rel="noopener noreferrer" class="external"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
              
            </a></span><span class="contact-item"><a href="https://www.instagram.com/ellapresso" target="_blank" rel="noopener noreferrer" class="external"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-instagram"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.5" y2="6.5"></line></svg>
              
            </a></span><span class="contact-item"><a href="https://www.linkedin.com/in/ellapresso" target="_blank" rel="noopener noreferrer" class="external"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
              
            </a></span><span class="contact-item"><a href="/2022/02/14/vue-history-mode/ellapresso@gmail.com.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
              
            </a></span></div> <ul class="list-unstyled"><li class="copyright-item"><a href="https://bootstrapstarter.com/terms-and-conditions/" target="_blank" rel="noopener noreferrer" class="external">Licensed MIT.</a></li><li class="copyright-item"><a href="https://bootstrapstarter.com/bootstrap-templates/vuepress-theme-mediumish/" target="_blank" rel="noopener noreferrer" class="external">Made with Mediumish - free Vuepress theme</a></li></ul></div></div></div></footer></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c2362d3e.js" defer></script><script src="/assets/js/6.7d3ae277.js" defer></script><script src="/assets/js/3.e32e0198.js" defer></script><script src="/assets/js/54.cea82c37.js" defer></script><script src="/assets/js/7.f34cef52.js" defer></script>
  </body>
</html>

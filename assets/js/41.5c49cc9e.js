(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{583:function(e,t,a){"use strict";a.r(t);var n=a(16),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("아무 세팅도 되어있지 않은 서버에 하나씩 구성해보는 재미가 쏠쏠한 요즘..")]),e._v(" "),a("p",[e._v("오늘은 외부에 노출되지는 않더라도 허용된 접근 권한 내에서 브라우저에 작업한 앱을 띄우는것을 해 보았다.")]),e._v(" "),a("p",[a("code",[e._v("원하는 것 : 서버IP를 브라우저에 치면 사이트가 ta-da!")])]),e._v(" "),a("h2",{attrs:{id:"nginx-설정"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-설정"}},[e._v("#")]),e._v(" nginx 설정")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("nginx 설치.")])]),e._v(" "),a("li",[a("p",[e._v("/etc/nginx/nginx.conf 설정")])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("http {\n  ...\n  include /etc/nginx/sites-enabled/*;\n}\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("/etc/nginx/site-available/ 생성 및 설정")])]),e._v(" "),a("p",[e._v("위 경로에 설정파일을 생성한다.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("server {\n  listen 80 default_server;\n  listen [::]:80 default_server;\n  index index.html;\n  \n  server_name  server-name;\n  root /home/app;\n\n  #access_log  /var/log/nginx/host.access.log  main;\n\n  location / {\n      proxy_pass http://localhost:{{pm2로 띄운 port}};\n      proxy_http_version 1.1;\n      proxy_set_header Upgrade $http_upgrade;\n      proxy_set_header Connection 'upgrade';\n      proxy_set_header Host $host;\n      proxy_cache_bypass $http_upgrade;\n      proxy_redirect off;\n      proxy_read_timeout 240s;\n  }\n}\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[e._v("/etc/nginx/site-enable/ 생성 및 심볼릭 링크")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("  ln -s /etc/nginx/site-available/conffile /etc/nginx/site-enable/conffile\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[e._v("방화벽 80 포트 Open")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("  # 80포트 설정\n  firewall-cmd --zone=public --permanent --add-port=80/tcp\n  # 변경사항 적용\n  firewall-cmd --reload\n  # 변경사항 확인\n  firewall-cmd --zone=public --list-all\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[e._v("nginx test && reload")])]),e._v(" "),a("p",[e._v("아래 명령어로 nginx 설정파일을 확인 한다.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("nginx -t\n")])])]),a("p",[e._v("문제가 없으면 재시작해준다.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("systemctl restart nginx\n")])])]),a("p",[e._v("일단 대충 복붙해 넣다가 성공은 휘뚜루마뚜루 되었는데 설정파일의 항목들이 나타내는게 뭔지, 어떻게 연결되어 있는지 좀 더 찾아 볼 필요가 있을 것 같다.")])])}),[],!1,null,null,null);t.default=s.exports}}]);